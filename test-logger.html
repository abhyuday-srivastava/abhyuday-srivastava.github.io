<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Logger Test</title>
</head>
<body>
  <h1>Logger Test Page</h1>
  <p>If everything works, this page will log your visit to Google Sheets.</p>

  <script>
    async function logVisit() {
      const logEndpoint = "https://script.google.com/macros/s/AKfycbzP10nZla3qUP09Rwmt3q_krJ6zXgJL4-p6gGSlS772thjOa_y7uzgaZVFB6qlZr3IpuQ/exec"; // ⬅️ replace with your deployed Apps Script URL

      const payload = {
        ip: "test-ip", // IP won't show directly due to browser privacy
        userAgent: navigator.userAgent,
        referrer: document.referrer || "direct"
      };

      try {
        const response = await fetch(logEndpoint, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });

        const result = await response.json();
        console.log("Logging response:", result);

      } catch (err) {
        console.error("Logging failed:", err);
      }
    }

    logVisit();
  </script>
</body>
</html>
