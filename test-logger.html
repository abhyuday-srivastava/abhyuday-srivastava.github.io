<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Visitor Logger Test</title>
</head>
<body>
  <h1>Visitor Logger Test</h1>
  <button id="logBtn">Log Visitor</button>

  <pre id="response"></pre>

  <script>
    const scriptURL = "https://script.google.com/macros/s/AKfycbxE1gRw9VzqvriPEcImO08r7VYDmDRzRA8TAemxUyUTyNSm72jOFfN95jIODFK7rRyHEQ/exec";

    document.getElementById("logBtn").addEventListener("click", () => {
      fetch(scriptURL, {
        method: "POST",
        mode: "no-cors", // required to bypass CORS restrictions
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          visitor: "Test User",
          page: window.location.pathname
        })
      })
      .then(res => {
        document.getElementById("response").innerText = "✅ Request sent. (Response hidden due to no-cors)";
      })
      .catch(err => {
        document.getElementById("response").innerText = "❌ Error: " + err;
      });
    });
  </script>
</body>
</html>
